[TOC]

# 新型有源滤波器

### **滤波器基本知识**

对特定频率的频点或该频点以外的频率进行有效滤除的电路，就是滤波器，其功能就是得到一个特定频率或消除一个特定的频率。

常用于：

改变信号的频率特性

A/D转换的前置滤波器，防止频率混叠（香农采样定律）

提取有用信号，滤除无用信号或干扰噪声

### **滤波器的分类**

1.按所处理的信号分

模拟滤波器、数字滤波器

2.按所采用的元器件分

有源滤波器、无源滤波器

3.有源滤波器按频率特性分

LPF、HPF、BPF、BEF、APF

4.有源滤波器按阶跃响应分为

最大平坦响应滤波器（巴特沃思滤波器）、

线性相位响应滤波器（贝塞尔滤波器）、

等纹波滤波器（切比雪夫滤波器）

### **滤波器主要参数**

**截止频率：f1 、f2（-3dB点）**

**中心频率：**通带的中心频率fc，一般取fc=（f1+f2）/2

**通带带宽：**BW =（f2-f1）(-3dB带宽)

**品质因数：**Q = fc/BW

**通带增益，插入损耗等**



### 有源滤波器的应用：

##### 1、通信行业

　　为了满足大规模数据中心机房的运行需要，通信配电系统中的UPS使用容量在大幅上升。据调查，通信低压配电系统主要的谐波源设备为UPS、开关电源、变频空调等。

　　其产生的谐波含量都较高，且这些谐波源设备的位移功率因数极高。通过使用有源滤波器可以提高通信系统及配电系统的稳定性，延长通信设备及电力设备的使用寿命，并且使配电系统更符合谐波环境的设计规范。

##### 2、半导体行业

　　大多数半导体行业的3次谐波非常严重，主要是由于企业中使用了大量的单相整流设备。3次谐波属于零序谐波，具备在中性线汇集的特点，导致中性线压力过大，甚至出现打火现象，存在着极大的生产安全隐患。

　　谐波还会造成断路器跳闸，耽误生产时间。3次谐波在变压器内形成环流，加速了变压器的老化。严重的谐波污染必然对配电系统中的设备使用效率和寿命造成影响。

##### 3、石化行业

　　由于生产的需要，石化行业中存在着大量泵类负载，并且不少泵类负载都配有变频器。变频器的大量应用使石化行业配电系统中的谐波含量大大增加。

　　目前绝大部分变频器整流环节都是应用6脉冲将交流转化为直流，因此产生的谐波以5次、7次、11次为主。其主要危害表现为对电力设备的危害及在计量方面的偏差。使用有源滤波器可以很好地解决这方面的问题。







### 滤波器的分析计算：

[![pSr1ztS.png](https://s1.ax1x.com/2023/02/02/pSr1ztS.png)](https://imgse.com/i/pSr1ztS)

求解一阶有源滤波器的放大倍数Av和通带放大倍 数Avp:
设电路的输入电压为Ui(s)，运放的同相输入端的 电压为 U+(s)。在同相输入端根据分压原理有:
$$
U_{+}(s)=\frac{\frac{1}{s C}}{R+\frac{1}{s C}} \cdot U_i(s)
$$
设电路的输出电压为Uo(s)，
则:
$$
U_\theta(s) \cdot=A_{v p} \cdot U_{+}(s)=\left(1+\frac{R_2}{R_1}\right) U_{+}(s)
$$
根据上述两个式子，可以得到Av和Avp为:
$$
A_v=\frac{U_0(s)}{U_i(s)}=\frac{1+\frac{R_2}{R_1}}{1+R C s}=\frac{A_{v p}}{1+R C s}
$$
在上式中，令s=jw=j2πf，得到
$$
A_v=\frac{A_{v p}}{1+R C s}==\frac{A_{v p}}{1+j \frac{f}{f_p}}
$$
其中fp，为此一阶有源低通滤波器的通带截止频率， 其大小为:
$$
f_p=\frac{1}{2 \pi R C}
$$




### 开关电容滤波器

开关电容的基本知识

电路组成：

  电路的两节点间接有带高速开关的电容器，如下两图分别为串联形式和并联形式。

  其中的开关不是普通的机械开关，而是以几千赫兹的很高频率打开、闭合的电子开关。

  两个开关是交替通断。设S1的电平为φ，S2的电平为φ ̅，和φ正好相反。

[![pSr3iXn.png](https://s1.ax1x.com/2023/02/02/pSr3iXn.png)](https://imgse.com/i/pSr3iXn)

等效的物理模型：一个阻值受开关频率控制的电阻。

下面以并联形式为例进行理论推导。

**开关电容的理论推导**

1、当φ =1时，S1闭合，S2打开，电容C充电，其电荷量为Q1=CUi

2、当φ =0时，S1打开，S2闭合，电容C放电，其电荷量为Q2=CUo

3、设开关的周期为Tc，在一个周期中，电容电荷量的改变量为：						△Q=Q1-Q2=C（Ui-Uo）

4、计算流过输入端和输出端的电流
$$
i=\frac{△Q}{T_c}=\frac{C(U_{i}-U_{o})}{T_{c}}
$$
5、在一个周期内，可以把整个开关电容滤波电路等效为一个电阻，其大小为：
$$
R_{等效}=\frac{(U_i-U_o)}{i}=\frac{T_c}{C}=\frac{1}{f_c C}
$$
​			获得阻值受开关频率控制的等效电阻

6、从推导出的公式可知，C越小，R越大

7、若想改变等效电阻R，只需要改变时钟周期Tc即可。



### 开关电容的应用

##### **实现低通滤波器截止频率可调**

将一阶有源低通滤波器中同相端的输入电阻用开关电容滤波器代替，如下图所示。按照前面的对一阶有源低通滤波器的推导，其放大倍数为：
$$
A_v=\frac{1+\frac{R_2}{R_1}}{1+RCs}=\frac{1+\frac{R_2}{R_1}}{1+\frac{C_2}{f_cC_1}s}
$$


[![pSr8RIK.png](https://s1.ax1x.com/2023/02/02/pSr8RIK.png)](https://imgse.com/i/pSr8RIK)

其通带放大倍数为：
$$
A_{vp}=1+\frac{R_2}{R_1}
$$
其通带截止频率为：
$$
f_p=\frac{1}{2\pi RC}=\frac{C_1}{2\pi C_2 }f_c
$$




##### 开关电容积分器

[![pSrGAiT.png](https://s1.ax1x.com/2023/02/02/pSrGAiT.png)](https://imgse.com/i/pSrGAiT)

将密勒积分器中同相端的输入电阻用开关电容滤波器代替，如右图所示。计算其放大倍数为：
$$
A_v=\frac{U_o}{U_i}=-\frac{\frac{1}{SC_1}i}{Ri}=-\frac{1}{RC_1s}
$$
按照开关电容电路的推导公式，等效电阻的大小为：
$$
R=\frac{1}{f_cC_2}
$$
代入上式中得到：
$$
A_v=-\frac{1}{RC_1S}=-\frac{f_c C_2}{C_1 s}
$$

### 开关电容的特点

1、当时钟频率一定时,开关电容滤波器的特性仅取决于电容的比值。由于采用了特种工艺,这种电容的比值精度可达0.01%,并且具有良好的温度稳定性；

2、当电路结构确定之后,开关电容滤波器的特性仅与时钟频率有关,改变时钟频率即可改变其滤波器特性；

3、开关电容滤波器可直接处理模拟信号,而不必像数字滤波器那样需要A/D、D/A变换,简化了电路设计,提高了系统的可靠性。



### 开关电容的非理想性

**1**.时钟馈通。开关晶体管存在栅极和扩散层之间的电容，包括沟道的充放电电容，在时钟信号出现时，信号会馈通到负载电容上，形成误差。

**2.失调误差**。这种误差由采样周期之间开关电容的漏电流引起。

**3.噪声**。有源开关电容滤波器的噪声有2个来源：即开关电容和运算放大器。

4.**电荷的不完全传输：**MOS管开关不是理想开关，其接通电阻非零，因而最大开关速率将由电荷传输情况决定。

5、**非线性**PN结：两个理想开关间理应有两个PN结，及作用会使电容的等效电阻阻值减小。





### 运算跨导放大器

运算跨导放大器（Operational Transconductance Amplifier，OTA），顾名思义，即可知其输入为电压而输出为电流，因而这种放大器的输入和输出阻抗都很高。

   其可以通过控制外部偏流调节自身的跨导。若用它来代替有源滤波器中的电阻，即可将滤波器集成化。

   相反，一般的运算放大器虽然可以构成有源滤波器，但要把滤波器集成化，且可以在外部用电压或电流来控制滤波器的特性，则很困难。

[![pSrG7pF.png](https://s1.ax1x.com/2023/02/02/pSrG7pF.png)](https://imgse.com/i/pSrG7pF)

跨导放大器输入为电压而输出为电流，因而这种放大器的输入和输出阻抗都很高。

上图为运算跨导放大器的符号和等效电路，其中io是输出电流，IB是偏置电流，即外部控制电流。
$$
跨导公式如右: G_m=hI_B
$$
其中Gm为跨导，h为常数。

h与温度、器件的几何形状及处理方法有关。

输出电流Io和输入电压Uid关系式如下：
$$
I_O=G_mU_{id}=G_m(U_{i+}-U_{i-})
$$

#### 运算跨导放大器的应用

 **反向电压放大器**

[![pSrJJA0.jpg](https://s1.ax1x.com/2023/02/02/pSrJJA0.jpg)](https://imgse.com/i/pSrJJA0)
$$
U_o=-G_mU_iR_L\\
A_v=\frac{U_o}{U_i}=\frac{-G_mU_iR_L}{U_i}=-G_mR_L
$$




**最简单积分器**

[![pSrJ87q.jpg](https://s1.ax1x.com/2023/02/02/pSrJ87q.jpg)](https://imgse.com/i/pSrJ87q)
$$
A_v=\frac{U_{o(s)}}{U_{i(s)}}=\frac{G_m}{sC}
$$
**高通/低通滤波器**

[![pSrYNVI.jpg](https://s1.ax1x.com/2023/02/02/pSrYNVI.jpg)](https://imgse.com/i/pSrYNVI)
$$
A_{v(s)}=\frac{G_m}{G_m+SC}=\frac{1}{1+\frac{Cs}{G_m}}\\
f_c=\frac{G_m}{2\pi C}
$$

